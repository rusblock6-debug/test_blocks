ТЕХНИЧЕСКОЕ ЗАДАНИЕ (ГОСТ 19.201-78)
====================================

на разработку программного обеспечения «Цифровой двойник»
--------------------------------------------------------

**Система планирования и моделирования горнотранспортных процессов открытого карьера**

---

Оглавление
==========

1. Общие положения
2. Назначение и цели создания Системы
3. Характеристика объектов автоматизации
4. Требования к Системе
5. Состав и содержание работ по созданию Системы
6. Порядок контроля и приемки Системы
7. Требования к составу и содержанию работ по подготовке объекта автоматизации к вводу Системы в действие
8. Требования к документированию
9. Источники разработки
10. Приложения

---

1. Общие положения
==================

1.1. Полное наименование Системы. Условное обозначение
------------------------------------------------------

**Полное наименование Системы:** Система планирования и моделирования горнотранспортных процессов открытого карьера «Цифровой двойник»

**Условное обозначение:** qsimmine12

Система представляет собой комплексное программное обеспечение, предназначенное для имитационного моделирования и планирования работы горнотранспортного комплекса открытого карьера. Система обеспечивает дискретно-событийное моделирование с использованием алгоритмов оптимизации для анализа различных сценариев работы карьера.

1.2. Основные сокращения, термины и определения
-----------------------------------------------

Используемые в документе термины и определения приведены в таблице.

**Таблица 1. Определения, обозначения и сокращения**

| Термин/сокращение | Определение / пояснение |
| --- | --- |
| **Карьер** | Открытое горное предприятие по добыче полезных ископаемых, включающее в себя рабочие площадки, дорожную сеть, пункты погрузки и разгрузки |
| **Экскаватор** | Горнодобывающая машина для погрузки горной массы в транспортные средства, характеризуется объемом ковша, скоростными параметрами и показателями надежности |
| **Самосвал** | Транспортное средство для перевозки горной массы от мест погрузки к пунктам разгрузки, характеризуется грузоподъемностью, скоростными параметрами и топливной эффективностью |
| **Пункт разгрузки (ПР)** | Специально оборудованная площадка для выгрузки горной массы из самосвалов, может быть гидравлического, механического или гравитационного типа |
| **Заправочная станция** | Стационарный объект для заправки горнотранспортной техники топливом, характеризуется количеством топливораздаточных колонок и скоростью подачи топлива |
| **Дорожная сеть** | Система дорог карьера, соединяющая все производственные объекты, представленная в виде графа с узлами и ребрами |
| **Маршрут** | Путь следования самосвала от экскаватора к пункту разгрузки, включающий последовательность дорожных сегментов |
| **Рейс** | Полный цикл работы самосвала: движение к экскаватору, погрузка, транспортировка груза, разгрузка, возврат |
| **Сценарий моделирования** | Набор параметров и условий для проведения имитационного моделирования работы карьера в заданный период времени |
| **Смена** | Рабочий период, в течение которого осуществляется производственная деятельность, включает время работы, перерывы, обеденный перерыв и пересменку |
| **Планирование рейсов** | Процесс автоматического распределения самосвалов по маршрутам и составления оптимального расписания рейсов |
| **Имитационное моделирование** | Процесс воспроизведения работы карьера в ускоренном времени с учетом всех производственных факторов и ограничений |
| **Телеметрия** | Данные о состоянии и перемещении техники в процессе моделирования, включающие координаты, скорость, загрузку, расход топлива |
| **Взрывные работы** | Плановые мероприятия по подготовке горной массы к выемке, создающие временные ограничения на движение техники в определенных зонах |
| **Плановый простой** | Запланированное прекращение работы техники для проведения технического обслуживания, ремонта или по другим производственным причинам |
| **Надежность результатов** | Статистическая оценка достоверности результатов моделирования на основе множественных расчетов с различными параметрами |
| **Оптимизация** | Процесс поиска наилучшего решения по заданным критериям (максимизация производительности, минимизация затрат) |
| **Дискретно-событийное моделирование** | Метод имитационного моделирования, при котором состояние системы изменяется в дискретные моменты времени при наступлении событий |
| **CP-SAT** | Constraint Programming - Satisfiability - метод решения задач удовлетворения ограничений с использованием Google OR-Tools |
| **MILP** | Mixed Integer Linear Programming - смешанное целочисленное линейное программирование с использованием HiGHS_CMD |
| **Sim Engine** | Основной модуль системы, отвечающий за выполнение имитационного моделирования |
| **TruckService** | Сервис управления самосвалами в рамках системы |
| **ShovelService** | Сервис управления экскаваторами в рамках системы |
| **UnloadService** | Сервис управления пунктами разгрузки в рамках системы |
| **FuelService** | Сервис управления заправочными станциями в рамках системы |
| **PlannerService** | Сервис планирования и оптимизации в рамках системы |
| **ПЛАНИРОВАНИЕ** | Enterprise Resource Planning, система планирования ресурсов предприятия |

1.3. Наименования организации-заказчика
---------------------------------------

**Наименование организации Заказчика:** Не указано в технической документации проекта

**Юридический адрес Заказчика:** Не указано в технической документации проекта

**Фактический адрес Заказчика:** Не указано в технической документации проекта

*Примечание: Данная информация должна быть предоставлена Заказчиком при заключении договора на разработку системы.*

1.4. Плановые сроки начала и окончания работ
--------------------------------------------

Плановые сроки выполнения работ будут определены после согласования технического задания с Заказчиком и должны включать следующие основные этапы:

1. **Анализ требований и проектирование системы** – **.**.20\_\_ - **.**.20\_\_
2. **Разработка базовой функциональности планирования** – **.**.20\_\_ - **.**.20\_\_
3. **Разработка модуля имитационного моделирования** – **.**.20\_\_ - **.**.20\_\_
4. **Разработка модуля оптимизации маршрутов** – **.**.20\_\_ - **.**.20\_\_
5. **Интеграция компонентов и системное тестирование** – **.**.20\_\_ - **.**.20\_\_
6. **Опытная эксплуатация и доработка** – **.**.20\_\_ - **.**.20\_\_
7. **Внедрение и обучение персонала** – **.**.20\_\_ - **.**.20\_\_

*Примечание: Конкретные даты будут установлены в договоре на выполнение работ с учетом сложности задач и доступных ресурсов.*

1.5. Порядок оформления и предъявления заказчику результатов работ по созданию Системы
--------------------------------------------------------------------------------------

Результаты работ предъявляются Заказчику в следующем порядке:

**Промежуточные результаты:**

* Еженедельные отчеты о ходе выполнения работ
* Демонстрация промежуточных версий системы
* Согласование технических решений и изменений

**Итоговые результаты:**

* Программное обеспечение системы в полном объеме
* Комплект технической документации
* Результаты приемочных испытаний
* Руководства пользователя и администратора

**Каналы коммуникации:**

* Еженедельные рабочие совещания
* Электронная почта для оперативных вопросов
* Система управления проектами для отслеживания задач
* Демонстрационные сессии для ключевых заинтересованных сторон

---

2. Назначение и цели создания Системы
=====================================

2.1. Назначение Системы
-----------------------

Система «Цифровой двойник» предназначена для комплексной автоматизации процессов планирования и управления горнотранспортными операциями в условиях открытого карьера.

**Основное функциональное назначение:**

**Планирование производственных процессов:** Система обеспечивает автоматическое составление оптимальных планов работы горнотранспортного комплекса с учетом производственных мощностей, ограничений и целевых показателей добычи.

**Оптимизация использования техники:** Система позволяет максимально эффективно использовать парк самосвалов и экскаваторов, минимизируя простои и оптимизируя маршруты движения.

**Имитационное моделирование:** Система предоставляет возможность проведения виртуальных экспериментов для оценки различных сценариев работы карьера без остановки реального производства.

**Прогнозирование результатов:** Система обеспечивает прогнозирование производственных показателей (объемы добычи, расход топлива, загрузка техники) на основе заданных параметров работы.

**Поддержка принятия решений:** Система предоставляет аналитическую информацию для принятия обоснованных управленческих решений по оптимизации производственных процессов.

2.2. Детальное описание функционального назначения системы

### 2.2.1. Общее описание системы

Цифровой двойник представляет собой программный комплекс (фронтенд + бэкенд) для точного математически адекватного моделирования открытых горных работ. Результаты моделирования используются для оценки изменений или отработки внештатных ситуаций, оценки алгоритмов автоматического планирования горных работ.

Цифровой двойник включает Планировщик (модуль оперативного управления) - алгоритм планирования горных работ на основе системы нелинейных уравнений (формула критерия оптимизации, формулы ограничивающие решения (ограничения и условия решения задачи)). Требуется доказать его эффективность путем сравнения ручного планирования (или других алгоритмов по их готовому решению на готовых входных данных) и данного алгоритма Планировщика.

Для повышения реалистичности моделирования ввод уточняющих исходных данных моделирования необходимо выполнять разными сотрудниками, например, для получения настоящей карты дорог в карьере необходимо загрузить План горных работ (DXF формат, Маркшейдеры) и Горный инженер/Геолог вносит разметку дорог на План. Необходимо рассмотреть возможность импорта этих данных из других АСУ ГТК. Мы рассматриваем возможность интеграции части входных данных (Исходные параметры объектов, называем это "стат. данные") от диспетчеризации (нашей/чужой).

Дискретно-событийный принцип моделирования подразумевает расчет состояния каждого объекта в системе на каждый такт моделирования (такт = 1 с), состояние объекта переключается только потактово, при возникновении события в текущий такт моделирования - оно подается на вход каждого объекта в следующий такт моделирования. Каждый объект рассчитывает свое состояние каждый такт, каждый такт ожидает событие, выполняет пересчет состояния с учетом входных событий или текущего состояния на данном такте.

Объекты моделирования включают все, что влияет на время выполнения каждой операции в карьере: Карьер (особенности конкретного карьера: расписания, место/карта (условия далее)), Техника ("точный" расчет времен операций, выполняемых техникой с учетом ее параметров) и УСЛОВИЯ Расчетов (влияющие на расчет операции в карьере): БВР, Погода, Поломки, Местность (маршруты/дороги), Люди (управляющие техникой, источник случайных значений длительности операций).

**Цели системы:**

- симуляция процесса добычи близкое к реальным условиям 90%
- расчет максимально возможного объема вывезенной горной массы за смену, в текущей конфигурации карьера при оптимальном использовании техники - максимальный объем (но на самом деле рейсы)
- выдача наряд-заданий (расстановка по маршрутам) на всю смену для самосвалов и экскаваторов
- выдача аналитической отчетности для оптимизации процесса выработки

### 2.2.2. Планировщик + маршрутизатор + симулятор

Система реализует автоматический планировщик маршрутов для самосвалов, который автоматически рассчитывает оптимальные маршруты для каждого самосвала от точки погрузки до точки разгрузки и обратно, чтобы максимизировать производительность парка (экскаваторов-самосвалов).

Пользователь выбирает сценарий, нажимает "автоматическое" формирования маршрутов, нажимает кнопку "плей", планировщик формирует оптимальную расстановку самосвалов по маршрутам для симуляции.

Планировщик учитывает все имеющиеся справочные данные: паспортные данные техники и стационарных объектов, маршруты, необходимость заправки, продолжительность смены, необходимость обеда, расписание взрывных работ, плановые ремонты и тп. с возможностью добавления новых ограничений.

Планировщик получает события от симуляции и использует их для изменения оптимального плана.

Результаты работы планировщика и движка симуляции отображаются в виде набора данных на экране "Результаты симуляции" → в блоке "Маршруты за смену", на экране проигрывателя, и логах событий.

**Критерии приемки:** должны учитываться заправки и границы смены в планировщике и внеплановые ремонты в симуляции и т.д (все что будет создано далее).

2.3. Цели создания Системы
--------------------------

### 2.3.1. Повышение производственной эффективности

**Цель:** Увеличение объемов добычи полезных ископаемых при существующем парке техники на 15-20% за счет оптимизации планирования и устранения непроизводительных простоев.

**Измеримые показатели:**

* Увеличение среднесуточной производительности карьера
* Сокращение времени простоя техники
* Повышение коэффициента использования самосвалов и экскаваторов

### 2.3.2. Снижение эксплуатационных затрат

**Цель:** Сокращение операционных расходов на 10-15% за счет оптимизации маршрутов движения техники и снижения расхода топлива.

**Измеримые показатели:**

* Снижение удельного расхода топлива на тонну перевезенной горной массы
* Уменьшение износа техники за счет оптимизации маршрутов
* Сокращение затрат на внеплановые ремонты

### 2.3.3. Повышение качества планирования

**Цель:** Обеспечение научно обоснованного планирования производственных процессов с использованием математических методов оптимизации и имитационного моделирования.

**Измеримые показатели:**

* Повышение точности прогнозирования производственных показателей
* Сокращение времени на составление производственных планов
* Увеличение гибкости реагирования на изменения производственной ситуации

### 2.3.4. Улучшение контроля и мониторинга

**Цель:** Обеспечение непрерывного мониторинга производственных процессов и оперативного контроля выполнения планов.

**Измеримые показатели:**

* Сокращение времени выявления отклонений от плана
* Повышение оперативности принятия корректирующих мер
* Улучшение качества отчетности по производственным показателям

2.4. Основные задачи создания Системы
-------------------------------------

### 2.4.1. Автоматизация процессов планирования

Система должна создавать алгоритмы математической оптимизации, которые автоматически распределяют самосвалы по маршрутам, определяют последовательность рейсов и составляют оптимальное расписание работы техники.

### 2.4.2. Создание цифровой модели карьера

Система должна обеспечивать разработку системы управления пространственными данными, поддерживающей импорт и обработку геопространственной информации, создание и редактирование схем дорожной сети карьера.

### 2.4.3. Разработка имитационной модели

Система должна обеспечивать разработку событийно-ориентированной имитационной модели, учитывающей характеристики техники, временные ограничения, случайные факторы и производственные ситуации.

### 2.4.4. Обеспечение надежности результатов

Система должна внедрять методы статистического анализа и оценки надежности результатов на основе множественных расчетов с различными входными параметрами.

2.5. Описание верхнего уровня бизнес-процессов компании, формирующих потребность в системе
------------------------------------------------------------------------------------------

### Текущее состояние бизнес-процессов

**Планирование производства:**
В настоящее время планирование работы карьера осуществляется на основе опыта диспетчеров и инженерно-технических работников. Планы составляются вручную с использованием упрощенных расчетов, что не позволяет учесть все факторы, влияющие на эффективность работы.

**Управление техникой:**
Распределение самосвалов по маршрутам происходит в режиме реального времени диспетчерами на основе текущей ситуации. Отсутствует системный подход к оптимизации использования техники, что приводит к непроизводительным простоям и неэффективному использованию ресурсов.

**Контроль выполнения планов:**
Контроль производственных показателей осуществляется по итогам смены или суток. Отсутствует возможность оперативного мониторинга и корректировки планов в процессе выполнения работ.

**Анализ эффективности:**
Анализ производственных показателей проводится периодически на основе отчетных данных. Отсутствуют инструменты для глубокого анализа причин отклонений и поиска резервов повышения эффективности.

### Проблемы текущих процессов

1. **Субъективность планирования** - зависимость качества планов от опыта и квалификации персонала
2. **Неоптимальное использование техники** - простои самосвалов, неравномерная загрузка экскаваторов
3. **Отсутствие прогнозирования** - невозможность оценить последствия изменений в производственном процессе
4. **Ограниченные возможности анализа** - недостаток инструментов для выявления резервов повышения эффективности

2.6. Описание изменения бизнес-процессов в результате реализации системы
------------------------------------------------------------------------

### Новые бизнес-процессы

**Автоматизированное планирование:**
Инженер по планированию вводит в систему исходные данные (количество техники, целевые объемы добычи, ограничения), система автоматически генерирует оптимальный план работы с детализацией до уровня отдельных рейсов самосвалов.

**Сценарное моделирование:**
Руководитель производства получает возможность проводить виртуальные эксперименты, оценивая влияние различных факторов (изменение количества техники, погодные условия, плановые ремонты) на производственные показатели до принятия управленческих решений.

**Оперативное управление:**
Диспетчер использует систему для мониторинга выполнения планов в режиме реального времени, получает рекомендации по корректировке распределения техники при возникновении отклонений от плана.

**Аналитическая поддержка:**
Руководство получает детальную аналитическую информацию о производственных процессах, включая анализ эффективности использования техники, выявление узких мест и резервов повышения производительности.

### Ожидаемые изменения

**Для инженеров по планированию:**

* Сокращение времени на составление планов с нескольких часов до 15-20 минут
* Повышение качества планов за счет использования математических методов оптимизации
* Возможность быстрой оценки альтернативных вариантов планирования

**Для диспетчеров:**

* Получение научно обоснованных рекомендаций по управлению техникой
* Возможность прогнозирования последствий управленческих решений
* Сокращение времени реагирования на производственные ситуации

**Для руководства:**

* Получение объективной информации для принятия стратегических решений
* Возможность оценки эффективности различных сценариев развития производства
* Повышение обоснованности инвестиционных решений по развитию парка техники

---

3. Характеристика объектов автоматизации
========================================

3.1. Профиль организации Заказчика
----------------------------------

**Отрасль деятельности:** Горнодобывающая промышленность, открытая разработка месторождений полезных ископаемых.

**Характеристика производства:** Предприятие осуществляет добычу полезных ископаемых открытым способом с использованием горнотранспортного комплекса, включающего экскаваторы, самосвалы большой грузоподъемности, вспомогательную технику и производственную инфраструктуру.

**Масштаб операций:** Крупное горнодобывающее предприятие с суточными объемами добычи, требующими координированной работы десятков единиц горнотранспортной техники.

**Факторы, влияющие на решение о внедрении системы:**

1. **Рост конкуренции** - необходимость повышения эффективности производства для сохранения конкурентоспособности
2. **Увеличение стоимости топлива** - потребность в оптимизации расхода топлива и эксплуатационных затрат
3. **Усложнение горно-геологических условий** - необходимость более точного планирования при усложнении условий добычи
4. **Требования экологического законодательства** - потребность в минимизации воздействия на окружающую среду
5. **Цифровая трансформация отрасли** - необходимость внедрения современных цифровых технологий

3.2. Объект автоматизации
-------------------------

### Материальные объекты автоматизации

**Горнотранспортная техника:**

*Экскаваторы:*

* Гидравлические экскаваторы с различным объемом ковша (от 1,2 до 15+ м³)
* Характеристики: производительность погрузки, скоростные параметры рабочих движений, показатели надежности
* Специализация по типам горной массы (песок, гравий, глина, влажная руда)

*Самосвалы:*

* Карьерные самосвалы грузоподъемностью от 10 до 300+ тонн
* Характеристики: скорость движения в груженом и порожнем состоянии, топливная эффективность, показатели надежности
* Топливная система: объем бака, пороги заправки, расход топлива в различных режимах работы

*Вспомогательная техника:*

* Заправочные станции с различным количеством топливораздаточных колонок
* Характеристики: производительность заправки, количество одновременно обслуживаемых машин

**Производственная инфраструктура:**

*Пункты разгрузки:*

* Различные типы: гидравлические, механические, гравитационные
* Характеристики: пропускная способность, угол наклона разгрузочной платформы, вместимость

*Дорожная сеть карьера:*

* Система технологических дорог, соединяющих все производственные объекты
* Характеристики: протяженность, уклоны, радиусы поворотов, пропускная способность

*Производственные площадки:*

* Зоны пересменки и отдыха персонала
* Площадки ожидания при проведении взрывных работ
* Зоны технического обслуживания и ремонта техники

### Технологические процессы автоматизации

**Процесс планирования производства:**

* Определение оптимального распределения техники по рабочим участкам
* Составление расписания рейсов самосвалов
* Планирование технического обслуживания и ремонтов
* Координация с графиком взрывных работ

**Процесс выполнения транспортных операций:**

* Движение самосвалов от зон пересменки к экскаваторам
* Погрузка горной массы экскаваторами
* Транспортировка груза к пунктам разгрузки
* Разгрузка и возврат к следующему циклу

**Процесс обеспечения работоспособности техники:**

* Заправка техники топливом
* Плановые технические обслуживания
* Устранение неисправностей
* Управление запасными частями

3.3. Детальная характеристика объектов моделирования

### 3.3.1. Редактор карты

Система должна включать отдельный экран "Редактор карты" для просмотра, создания, редактирования следующих объектов:

**Слои:**
- Горные планы в формате DXF в качестве картографической подложки
- Дорожная сеть карьера (граф дорог)
- Пункты разгрузки
- Производственные площадки
- Участки взрывных работ
- Заправочные станции
- Пункты ремонта

Все вышеперечисленные сущности (дороги, площадки, пункты, участки) должны отображаться в плеере результатов симуляции.

### 3.3.2. Загрузка горного плана в DXF подложки

**Функциональные требования:**

Система должна поддерживать импорт файлов DXF для отображения горного плана в качестве картографической подложки, чтобы видеть актуальную конфигурацию карьера и корректно планировать маршруты техники, наносить на карту сеть дорог и точки погрузки/разгрузки.

Система поддерживает импорт файлов DXF и выдает ошибку, если загрузка не удалась.

Пользователь может редактировать название загруженного файла.

Загруженные файлы отображаются в виде списка на экране "редактор карты" (название файла, дата, время загрузки), пользователь может включать/выключать видимость этого слоя.

Загруженный слой отображается на интерактивной карте на экране "Результаты симуляции" с корректной привязкой координат. Пользователь может выбирать слой из списка и включать/выключать видимость этого слоя.

### 3.3.3. Функционал создания/редактирования "Сеть дорог и маршруты" (igraph)

**Функциональные требования:**

Система должна обеспечивать визуальное создание и редактирование дорожной сети карьера (ГРАФ дорог) на карте в "редакторе карты", добавлять новые дороги, менять направление движения и назначать свойства (скорость, тип дороги), чтобы оперативно вносить изменения в логистическую схему карьера и сразу тестировать их в симуляции.

**Функции редактора:**

- создание вершины – перекрестка
- создание линии графа – дороги
- редактирование, изменение геометрии, перемещение как отдельных точек на ребре, так и всего графа целиком
- режим объединения (соединения) участков между собой посредством автоматического создания перекрестка в месте схождения нескольких ребер
- режим присоединения вершины одного ребра к некоторой точке на протяжении ребра другого графа и автоматическим созданием перекрестка в точке примыкания
- режим разделения ребра в произвольной точке, тем самым превращения одного ребра в два и более
- задание атрибутов вновь созданному ребру или вершине, изменение атрибутов созданным ранее. Примерный перечень атрибутов: имя, разрешенная скорость, ограничения по весу (или моделям самосвалов), направление движения, вершины x,y,z координаты, ширина
- наличие инструмента автоматической валидации целостности сети графов
- наличие инструмента импорта сети дорог из dxf-файла и конвертация ее в сеть графов дорог + автоматическая присвоение имен импортированным графам

### 3.3.4. Экран меню для объединения настроек и справочников

Система должна предоставлять объединенное меню для выбора настраиваемых параметров, изменения справочников, шаблонов.

Справочники + Шаблоны + Настройки карьера должны быть организованы в едином интерфейсе.

3.4. Характеристика состояния инфраструктуры
--------------------------------------------

### Информационная инфраструктура

**Существующие информационные системы:**
Информация о текущем состоянии информационных систем Заказчика должна быть предоставлена при детальном обследовании. Система должна быть спроектирована с учетом возможности интеграции с существующими корпоративными системами.

**Требования к развертыванию:**

* Серверная инфраструктура для размещения системы планирования и моделирования
* Рабочие места пользователей с доступом к системе
* Сетевая инфраструктура для обеспечения взаимодействия компонентов системы
* Системы резервного копирования и обеспечения отказоустойчивости

### Техническая инфраструктура

**Вычислительные ресурсы:**
Система требует значительных вычислительных мощностей для выполнения задач оптимизации и имитационного моделирования. Необходимо обеспечить:

* Многопроцессорные серверы для параллельных вычислений
* Достаточный объем оперативной памяти для обработки больших объемов данных
* Высокопроизводительные системы хранения данных

**Программная платформа:**

* Современная операционная система серверного класса
* Система управления базами данных для хранения производственной информации
* Средства кэширования для обеспечения быстрого доступа к часто используемым данным

3.5. Параметры информационных систем заказчика
----------------------------------------------

### Интеграционные требования

**Источники данных:**
Система должна получать информацию из различных источников:

* Системы диспетчерского управления техникой
* Системы учета производственных показателей
* Геоинформационные системы карьера
* Системы технического обслуживания техники

**Форматы данных:**

* Пространственные данные в формате GeoJSON для описания дорожной сети и расположения объектов
* Временные ряды производственных данных
* Справочная информация о характеристиках техники
* Календарно-плановая информация

### Требования к производительности

**Объемы обрабатываемых данных:**

* Информация о сотнях единиц горнотранспортной техники
* Тысячи рейсов в сутки
* Детальная информация о дорожной сети карьера
* Исторические данные для анализа трендов и закономерностей

**Требования к времени отклика:**

* Планирование рейсов: не более 5-10 минут для типового сценария
* Имитационное моделирование: время выполнения пропорционально моделируемому периоду
* Интерактивные запросы: не более 2-3 секунд
* Формирование отчетов: не более 30 секунд для стандартных отчетов

### Требования к надежности и доступности

**Критичность системы:**
Система является важным инструментом поддержки производственных процессов, но не критичным для непрерывности производства. Допустимое время недоступности системы составляет до 4 часов в месяц для планового обслуживания.

**Требования к сохранности данных:**

* Ежедневное резервное копирование всех данных системы
* Хранение резервных копий в течение не менее 1 года
* Возможность восстановления данных в течение 2-4 часов

---

4. Требования к Системе
=======================

4.1. Требования к Системе в целом
---------------------------------

### 4.1.1. Общие требования к функциональности

**Комплексность системы:**
Система должна обеспечивать полный цикл планирования и управления горнотранспортными операциями от стратегического планирования до оперативного контроля выполнения. Система должна интегрировать все аспекты работы карьера в единую информационную среду.

**Масштабируемость:**
Система должна поддерживать работу с различными масштабами производства - от небольших карьеров с 10-15 единицами техники до крупных предприятий с парком более 200 единиц горнотранспортного оборудования. Архитектура должна позволять наращивание функциональности без кардинальной переработки.

**Адаптивность:**
Система должна легко адаптироваться к специфике конкретного карьера, включая различные типы добываемых материалов, особенности геологического строения, климатические условия и организационную структуру предприятия.

**Интеграционная готовность:**
Система должна обеспечивать возможность интеграции с существующими корпоративными системами предприятия, включая системы управления ресурсами, финансового планирования, технического обслуживания и ремонта.

### 4.1.2. Требования к надежности и отказоустойчивости

**Непрерывность работы:**
Система должна обеспечивать коэффициент готовности не менее 99% в рабочее время. Плановые остановки для технического обслуживания не должны превышать 4 часов в месяц и проводиться в нерабочее время.

**Восстановление после сбоев:**
Время восстановления системы после технических сбоев не должно превышать 2 часов. Система должна автоматически сохранять состояние всех активных процессов и восстанавливать работу с минимальными потерями данных.

**Резервирование критических компонентов:**
Все критически важные компоненты системы должны иметь резервные копии. База данных должна реплицироваться в режиме реального времени. Вычислительные мощности должны обеспечивать работу системы при выходе из строя до 30% серверного оборудования.

### 4.1.3. Требования к производительности

**Время отклика системы:**

* Интерактивные операции пользователя: не более 3 секунд
* Формирование стандартных отчетов: не более 30 секунд
* Планирование рейсов для типового сценария: не более 10 минут
* Имитационное моделирование рабочей смены: не более 30 минут

**Пропускная способность:**
Система должна обрабатывать не менее 10000 транзакций в час в пиковые периоды нагрузки. Одновременная работа до 50 пользователей не должна приводить к деградации производительности.

**Объемы данных:**
Система должна эффективно работать с базой данных объемом до 10 ТБ, включая исторические данные за 5 лет работы предприятия.

4.2. Детальные функциональные требования

### 4.2.1. Шаблоны (АС, ЭКГ, площадки разгрузки, заправки)

**Функциональные требования:**

Система должна обеспечивать группировку шаблонов в едином месте. Шаблон - это набор сохраняемых параметров. Эти параметры можно копировать единоразово (сразу) в справочник по создаваемому объекту АС, ЭКГ, площадки разгрузки, заправки.

**Цель:** сокращение времени настройки симуляции, стандартизация данных.

**Объекты шаблонизации:**
- Автосамосвалы (АС)
- Экскаваторы (ЭКГ)
- Площадки разгрузки
- Заправочные станции

### 4.2.2. Настройки карьера

**Функциональные требования:**

Настройки карьера объединяют общие настройки на всю сущность Карьер. Эти настройки остаются неизменными при запуске любых симуляций, от части настроек отталкивается симуляция как от основных базовых параметров.

**Перечень настроек:**
- Ввод плана в эксплуатацию, вывод плана из эксплуатации
- Название карьера
- Географические координаты центра
- Настройки карьера
- Настройки времени
- Часовой пояс
- Настройки времени смен, обеда, пересменок

**Цель:** повышение адекватности результатов моделирования путем учета новых объектов и их параметров.

### 4.2.3. Объекты экскаваторы

**Функциональные требования:**

Система должна обеспечивать добавление или редактирование справочных данных по экскаваторам.

**Цель:** основной объект для симуляции.

### 4.2.4. Объекты самосвалы

**Функциональные требования:**

Система должна обеспечивать добавление или редактирование справочных данных по самосвалам.

**Цель:** основной объект для симуляции.

### 4.2.5. Настройка параметров у техники для учета в симуляции

**Функциональные требования:**

Симулятор имитирует внеплановые поломки.

Настройки у Экскаватора и Автосамосвала:
- Продолжительность безотказной работы (на начало моделирования)
- Зафиксировано отказов (на начало моделирования), шт
- Средняя продолжительность ремонта, мин

Система должна обеспечивать возможность задания в настройках карьера частоты и продолжительности внепланового ремонта (Продолжительность безотказной работы (на начало моделирования), Зафиксировано отказов (на начало моделирования). Средняя продолжительность ремонта, мин).

Площадка привязана к конкретному карьеру.

Симулятор формирует событие ремонт, планировщик на основании данного события перестраивает расписание рейсов.

При возникновении внепланового ремонта, самосвал ремонтируется на месте. Если происходит поломка - техника отключается на продолжительность ремонта на той координате, на которой сломалась, восстанавливается после ремонта в этой координате.

**Параметры для внепланового ремонта:**
- Суммарное время исправной работы T_A
- Среднее время на ремонт MTTR
- Количество зафиксированных отказов за весь период работы N_F

В логе событий отображается события начало/конец "ремонт" и в тултипе техники отображаются статус "ремонт" на экране "Результаты симуляции".

**Цель:** повышение адекватности результатов моделирования путем учета новых объектов и их параметров.

### 4.2.6. Объекты пункты разгрузки

**Функциональные требования:**

Система должна обеспечивать добавление или редактирование справочных данных по пунктам разгрузки.

**Цель:** основной объект для симуляции.

### 4.2.7. Объект заправки

**Функциональные требования:**

Система должна обеспечивать учет заправок в симуляции (расписание + симуляция).

Пользователь создает объект вида "заправка" привязанный к карьеру в справочнике или на экране "редактор карты". Задает параметры: количество пистолетов, скорость подачи топлива. Указывает точку местоположения (X,Y). Место заправки привязывается к конкретному карьеру. До этой точки формируется привязка к сети дорог и автоматически строятся маршруты.

Также самосвалу задаются новые параметры: критический уровень топлива, стартовый уровень топлива, холостой расход топлива, удельный расход топлива л/ч, порог плановой заправки, плотность.

Заправка происходит, когда стартовый уровень топлива снижается до порога плановой заправки или критического уровня топлива. Длительность заправки рассчитывается на основе параметров заправки и объема бака.

Планировщик должен перестраивать расписание рейсов в зависимости от событий "заправка".

В логе событий отображаются события начало/конец "Заправка" и номер техники и в тултипе техники отображаются статус "Заправка" на экране "Результаты симуляции".

**Цель:** повышение адекватности результатов моделирования путем учета новых объектов и их параметров.

### 4.2.8. Обеды

**Функциональные требования:**

Система должна обеспечивать учет обеда в симуляции (площадка + движение + симуляция).

В период обеда самосвалы не назначались на задачи и это учитывается в планировщике и симуляции.

Пользователь задает в настройках карьера (экран справочники), границы обеда для каждой смены.

Пользователь создает объект вида "площадка" с типом "зона обеда", " зона пересменки", "зона ожидания взрыва" в справочнике или на экране "редактор карты". Указывает точку местоположения (X,Y). До этой точки формируется привязка к сети дорог и автоматически строятся маршруты.

В системе Техника завершает текущий рейс (АС), погрузку (ЭКГ), переезжает в зону обеда и переходит в неактивный режим на период обеда.

В логе событий отображается события начало/конец "обеда" (по номерам техники пока разбивать не надо) и в тултипе техники отображаются статус "обед" на экране "Результаты симуляции".

Обед уже выставляется общий на всю смену для всей техники. (упрощенная версия).

**Цель:** повышение адекватности результатов моделирования путем учета новых объектов и их параметров.

### 4.2.9. Взрывные работы

**Функциональные требования:**

Система должна обеспечивать учет расписания взрывных работ в симуляции (расписание + площадка + движение + симуляция).

Пользователь задает "Расписание взрывных работ" на экране справочники (задать, редактировать, изменить) - указывает название, указывает начало/конец, указывать геозону. Такие же манипуляции пользователь может провести на экране "редактор карты".

Пользователь создает объект вида "площадка" с типом "зона обеда", " зона пересменки", "зона ожидания взрыва" в справочнике или на экране "редактор карты". Указывает точку местоположения (X,Y,Z). До этой точки формируется привязка к сети дорог и автоматически строятся маршруты.

Пользователь создает объект вида "Участок взрывных работ" в справочнике или на экране "редактор карты" Указывает локацию местоположения.

Участок взрывных работ, Площадка и Расписание взрывных работ привязаны к конкретному карьеру.

Планировщик автоматически перенаправляет по альтернативным маршрутам самосвалы в обход Участка взрывных работ на время проведения взрывных работ или отправляет на зону ожидания взрыва взрывных работ.

В логе событий отображается события начало/конец "взрывные работы" (по номерам техники пока разбивать не надо) и в тултипе техники отображаются статус "взрывные работы" на экране "Результаты симуляции".

Время взрывных работ начинается По расписанию моментально, кроме случаев, когда техника стоит на "месте проведения взрывных работ".

**Цель:** повышение адекватности результатов моделирования путем учета новых параметров.

### 4.2.10. Плановые простои (Ремонт, ТО и тд) в симуляции

**Функциональные требования:**

Система должна обеспечивать учет плановых простоев (Ремонт, ТО и тд) в симуляции (только расписание + симуляция).

Пользователь задает "Расписание плановых простоев (Ремонт, ТО и тд)" на экране справочники (задать, редактировать, изменить) - указывает название, указывает начало/конец. Пользователь создает объект вида "пункт ремонта" в справочнике или на экране "редактор карты". Указывает точку местоположения (X,Y).

Площадка и Расписание Плановых простоев (Ремонт, ТО и тд) привязаны к конкретному карьеру.

Планировщик должен перестраивать расписание рейсов в зависимости от расписания Плановых простоев (Ремонт, ТО и тд). При возникновении планового простоя (Ремонт, ТО и тд) самосвал передвигается на пункт ремонта.

В логе событий отображается события начало/конец "Плановый простой (Ремонт, ТО и тд)", номер техники и в тултипе техники отображаются статус "Плановый простой (Ремонт, ТО и тд)" на экране "Результаты симуляции".

Простой по расписанию. Если плановый простой наступил в момент "работы" (груженый для АС, Погрузка для ЭКГ), то простой наступает после завершения "основной работы" (для АС после выгрузки, для ЭКГ после полной загрузки АС).

**Цель:** повышение адекватности результатов моделирования путем учета новых параметров.

### 4.2.11. Заправки

**Функциональные требования:**

Система должна обеспечивать учет заправок в симуляции (расписание + симуляция).

Пользователь создает объект вида "заправка" привязанный к карьеру в справочнике или на экране "редактор карты". Задает параметры: количество пистолетов, скорость подачи топлива. Указывает точку местоположения (X,Y). Место заправки привязывается к конкретному карьеру. До этой точки формируется привязка к сети дорог и автоматически строятся маршруты. Также самосвалу задаются новые параметры: критический уровень топлива, стартовый уровень топлива, холостой расход топлива, удельный расход топлива л/ч, порог плановой заправки, плотность.

Заправка происходит, когда стартовый уровень топлива снижается до порога плановой заправки или критического уровня топлива. Длительность заправки рассчитывается на основе параметров заправки и объема бака.

Планировщик должен перестраивать расписание рейсов в зависимости от событий "заправка".

В логе событий отображаются события начало/конец "Заправка" и номер техники и в тултипе техники отображаются статус "Заправка" на экране "Результаты симуляции".

**Цель:** повышение адекватности результатов моделирования путем учета новых объектов и их параметров.

### 4.2.12. Пересменки

**Функциональные требования:**

Система должна обеспечивать учет пересменок в симуляции (площадка).

Уже реализовано в виде объекта (точки) на карте. время не устанавливаем, регулируем пересменку путем сокращения времени окончания смены. (как гео объект с периметром вводить не будем).

Пользователь задает в настройках карьера (экран справочники), границы пересменки.

Эти данные использует планировщик как ограничения.

Пользователь создает объект вида "площадка" с типом "пересменка" в справочнике или на экране "редактор карты". Указывает точку местоположения (X,Y). До этой точки формируется привязка к сети дорог и автоматически строятся маршруты.

Площадка и границы смены привязаны к конкретному карьеру.

Планировщик как входные ограничения для расчета длительности смены. Симуляция использует как стартовая точка для начала смены, маршрут от зоны пересменки до экскаваторов, и обратно на пересменку. Самосвал отправляется на пересменку, если он не может выполнить полностью еще один рейс до наступления пересменки. Самосвал завершает рейс, приезжает в конце смены на зоны Пересменки, начинается новая смена, самосвал стартует от пл. пересменки.

В логе событий отображаются события начало/конец пересменки и в тултипе техники отображаются статус "пересменки" на экране "Результаты симуляции".

**Цель:** повышение адекватности результатов моделирования путем учета новых объектов и их параметров.

### 4.2.13. Настройка: соответствие самосвалов/экскаваторам

**Функциональные требования:**

Настройки - какие АС могут ездить к каким ЭКГ. Ограничения по моделям.

В дереве справочника Экскаваторов отображается кнопка "несовместимость техники".

Нажав на кнопку, пользователю открывается отдельное окно в виде таблицы где отображены номера Экскаваторов и Номера АС которые не совместимы (не могут быть назначены на работу) с данным Экскаватором.

Для добавления (новой "строчки") нового номера Экскаватора необходимо нажать "Добавить Экскаватор". в первом столбце выбрать из выпадающего списка необходимый Экскаватор. во втором столбце выбрать номера АС из выпадающего списка. Экскаваторы которые уже ранее сохранены в таблице, в выпадающем списке отсутствуют (что бы не делали несколько строчек по одному номеру Экскаваторов).

Нажать сохранить.

Каждую строчку можно удалить нажав на кнопку "Удалить".

По умолчанию все Экскаваторы и все АС совместимы, все исключения по совместимости настраиваются здесь (в окне описанном выше).

**Цель:** повышение адекватности результатов моделирования путем учета новых объектов и их параметров.

### 4.2.14. Сценарии

**Функциональные требования:**

Пользователь должен иметь возможность сохранять разные сценарии для проигрывания симуляций. Окно где происходит Настройка параметров моделирования и сохранения сценария для последующего симулирования.

**Параметры настройки:**
- Период моделирования - Начало, Окончание
- Название сценария
- Режим расстановки самосвалов по маршрутам (Авто, Ручной)

**Цель:** возможность быстро получать результаты симуляции для разных сценариев.

### 4.2.15. Физический движок перемещения по дорогам (Pychrono)

**Функциональные требования:**

Система должна интегрировать физический движок Pychrono для расчета перемещения самосвала по дороге, чтобы движение техники в симуляции было реалистичным и учитывало заданные параметры.

**Цель:** увеличивает достоверность при симуляции.

4.3. Требования к экранам и интерфейсам результатов

### 4.3.1. Экран просмотра результатов симуляции

**Функциональные требования:**

Основной экран где отображаются результаты симуляции в виде аналитических данных (таблиц, графиков), а также проигрыватель показывающий процесс от начала до завершения выбранного периода симуляции.

**Цель:** удобство восприятия информации от визуализации процесса работы техники и сопутствующих объектов и условий.

### 4.3.2. Выдача двух результатов моделирования с поломками и без поломок + "надежный" результат

**Функциональные требования:**

Система должна обеспечивать выдачу результатов симуляции в трех вариантах:
- "Идеальный" (без сбоев)
- "Пессимистичный" (со случайными поломками)
- "Достоверный" (результат работы нескольких симуляций с разными результатами, из них выбран достоверный)

Чтобы сравнивать сценарии, оценивать риски и принимать обоснованные решения по планированию.

Все три результата должны отображать основной набор данных. Достоверные данные - это самое важное значение и по сути только эта симуляция выводится для проигрывания. От остальных симуляций должны быть данные для сравнения.

Количество рейсов, количество тонн, количество экскаваторов, количество самосвалов необходимое, чтобы выполнить данный план, средняя скорость АС.

**Цель:** повышения точности симуляции и увеличение объема данных для проведения более качественного анализа по выработке.

### 4.3.3. Выдача заключения: мало техники чтобы загрузить АС, мало техники чтобы загрузить Э

**Функциональные требования:**

Система должна по окончанию симуляции автоматически анализировать соотношение количества экскаваторов и самосвалов, для того чтобы видеть, хватает ли техники для эффективной работы, и получать рекомендации по оптимальному количеству, что позволит избежать простоев экскаваторов или самосвалов.

Расчет и отображение статуса по соотношению в холсте.

**Цель:** отображение эффективности работы техники для использования в оптимизации по снижению простоев техники.

### 4.3.4. Лог событий моделирования

**Функциональные требования:**

В окне результата симуляции отображается лог событий техники и объектов участвующих в процессе добычи (работы). В логах отображается время событий и название (поломка, обед, пересменка, заправка и т.д).

**Цель:** прозрачность и понимание процесса при отображении детальной хронологии событий. Удобство и быстрота выявления причин выявления выработки.

### 4.3.5. Таблица рейсов - подготовка к экрану статистики

**Функциональные требования:**

После создания симуляции, информация по рейсам самосвалов отображается в окне результаты симуляции.

Пользователь нажимает кнопку "рейсы" в окне по результатам симуляции и переходит в отдельное окно с таблицей.

В таблице должны быть колонки в соответствии с техническими требованиями.

Данные в таблице должны сортироваться по всем колонкам (по дате — сначала новые или старые).

Должна быть возможность фильтрации по всем столбцам.

Таблица должна выгружаться в формат Excel.

**Цель:** прозрачность и понимание процесса при отображении детальной информации по рейсам. Удобство и быстрота анализа по выработке.

4.4. Требования к экспорту и интеграции

### 4.4.1. Сохранение результатов симуляции (csv/json) за смену только по рейсам

**Функциональные требования:**

На экране симуляции есть кнопка "выгрузить результаты симуляции и планирования".

При нажатии кнопки можно выбрать формат CSV или JSON и место сохранения.

Экспорт должен включать таблицу со всеми выполненными рейсами за смену и их параметрами (время начала/окончания, машина, экскаватор, пункт разгрузки, масса груза), чтобы использовать в дальнейших симуляциях и строить собственные отчеты и дашборды во внешних системах (BI инструменты, Excel).

**Цель:** возможность использовать в дальнейших симуляциях и строить собственные отчеты и дашборды во внешних системах.

### 4.4.2. Генератор телеметрии

**Функциональные требования:**

Цифровой двойник должен генерировать синтетическую телеметрию для нужд разработки АСУ ГТК. Параметры должны передаваться раз в секунду в брокер сообщений MQTT, согласно стандартизированным топикам.

Данные для передачи: координаты x,y,z, скорость, уровень топлива, вес.

**Цель:** использование данных для разработки АСУ ГТК.

### 4.4.3. Расчеты и статистический анализ

**Функциональные требования:**

Функция выбора источника данных (вбить средние и отклонение ручками в форму).

**План задач:**

1. Расчеты и статистический анализ - Время ожидания в очереди стат данные (симулятор - потом фронт)
2. Расчеты и статистический анализ - Скорость движения груженым/порожним стат данные (симулятор - потом фронт)
3. Расчеты и статистический анализ - модель расчета разгрузки/погрузки на стат.данных (симулятор - потом фронт)
4. Расчеты и статистический анализ - Продолжительность рейса с параметрами рейса (самовал, плечо обкатки) (симулятор - потом фронт)
5. Расчеты и статистический анализ - Модель расчета движения по маршруту для порожнего/груженого самосвала (модель движения) (симулятор - потом фронт)
6. Расчеты и статистический анализ - Статистика по поломкам

**Цель:** добавление точности при симуляции.

4.5. Требования к видам обеспечения
----------------------------------

### 4.5.1. Требования к математическому обеспечению

**Алгоритмы оптимизации:**
Система должна включать современные алгоритмы математической оптимизации для решения задач планирования и распределения ресурсов. Должны поддерживаться методы линейного и нелинейного программирования, эвристические алгоритмы, методы искусственного интеллекта.

**Статистические методы:**
Для анализа данных и прогнозирования должны использоваться современные статистические методы, включая регрессионный анализ, временные ряды, методы машинного обучения.

**Имитационное моделирование:**
Система должна включать мощный движок имитационного моделирования, поддерживающий дискретно-событийное моделирование, агентное моделирование, системную динамику.

### 4.5.2. Требования к информационному обеспечению

**Структура данных:**
Система должна поддерживать иерархическую структуру данных, отражающую организационную структуру предприятия и технологические связи между объектами.

**Форматы данных:**
Должна обеспечиваться поддержка стандартных форматов обмена данными, включая XML, JSON, CSV, а также специализированных форматов геоинформационных систем.

**Качество данных:**
Система должна включать механизмы контроля качества данных, автоматического выявления и исправления ошибок, валидации входной информации.

### 4.5.3. Требования к лингвистическому обеспечению

**Многоязычность:**
Интерфейс системы должен поддерживать русский и английский языки с возможностью добавления других языков.

**Терминология:**
Вся терминология должна соответствовать принятым в горнодобывающей отрасли стандартам и нормативным документам.

**Документация:**
Вся документация должна быть представлена на русском языке с возможностью перевода на английский язык.

### 4.5.4. Требования к программному обеспечению

**Операционная система:**
Система должна работать под управлением современных серверных операционных систем семейства Linux или Windows Server.

**База данных:**
Должна использоваться промышленная система управления базами данных, поддерживающая транзакции, репликацию, резервное копирование.

**Веб-технологии:**
Пользовательский интерфейс должен быть реализован с использованием современных веб-технологий, обеспечивающих кроссплатформенность и удобство использования.

### 4.5.5. Требования к техническому обеспечению

**Серверное оборудование:**

* Многопроцессорные серверы с не менее чем 16 ядрами
* Оперативная память не менее 64 ГБ
* Дисковая подсистема с поддержкой RAID
* Резервные источники питания

**Сетевое оборудование:**

* Гигабитная локальная сеть
* Резервные каналы связи
* Системы сетевой безопасности

**Рабочие места пользователей:**

* Современные компьютеры с достаточной производительностью
* Мониторы высокого разрешения для работы с графической информацией
* Надежные каналы связи с сервером

---

5. Состав и содержание работ по созданию Системы
================================================

5.1. Перечень стадий и этапов работ
-----------------------------------

### 5.1.1. Стадия "Техническое задание"

**Анализ требований заказчика:**

* Детальное обследование существующих бизнес-процессов
* Интервьюирование ключевых пользователей системы
* Анализ существующей информационной инфраструктуры
* Определение функциональных и нефункциональных требований

**Разработка технического задания:**

* Формализация требований к системе
* Определение архитектуры решения
* Планирование этапов разработки
* Оценка ресурсов и временных затрат

**Согласование технического задания:**

* Презентация технического задания заказчику
* Внесение корректировок по результатам обсуждения
* Утверждение финальной версии технического задания
* Подписание договора на выполнение работ

### 5.1.2. Стадия "Эскизный проект"

**Проектирование архитектуры системы:**

* Разработка общей архитектуры системы
* Определение компонентов и их взаимодействия
* Проектирование структуры базы данных
* Выбор технологической платформы

**Проектирование пользовательского интерфейса:**

* Разработка концепции пользовательского интерфейса
* Создание макетов основных экранных форм
* Проектирование навигации и workflow
* Определение требований к эргономике

**Планирование интеграции:**

* Анализ существующих систем заказчика
* Проектирование интерфейсов интеграции
* Определение форматов обмена данными
* Планирование миграции данных

### 5.1.3. Стадия "Технический проект"

**Детальное проектирование:**

* Разработка детальных спецификаций всех компонентов
* Проектирование алгоритмов оптимизации
* Детальное проектирование базы данных
* Спецификация интерфейсов между компонентами

**Проектирование безопасности:**

* Анализ угроз информационной безопасности
* Проектирование системы аутентификации и авторизации
* Определение политик безопасности
* Планирование аудита и мониторинга

**Планирование тестирования:**

* Разработка стратегии тестирования
* Планирование различных видов тестов
* Подготовка тестовых данных
* Определение критериев приемки

### 5.1.4. Стадия "Рабочий проект"

**Разработка программного кода:**

* Реализация базовых компонентов системы
* Разработка пользовательского интерфейса
* Реализация алгоритмов оптимизации и моделирования
* Разработка интерфейсов интеграции

**Создание базы данных:**

* Физическая реализация структуры базы данных
* Создание хранимых процедур и триггеров
* Настройка индексов и оптимизация производительности
* Реализация механизмов резервного копирования

**Разработка документации:**

* Техническая документация системы
* Руководство администратора
* Руководство пользователя
* Методические материалы по внедрению

### 5.1.5. Стадия "Внедрение"

**Подготовка инфраструктуры:**

* Установка и настройка серверного оборудования
* Развертывание программного обеспечения
* Настройка сетевой инфраструктуры
* Конфигурирование систем безопасности

**Миграция данных:**

* Извлечение данных из существующих систем
* Очистка и преобразование данных
* Загрузка данных в новую систему
* Верификация корректности миграции

**Обучение пользователей:**

* Проведение обучающих семинаров
* Подготовка учебных материалов
* Практические занятия с системой
* Сертификация ключевых пользователей

5.2. Содержание работ по стадиям
--------------------------------

### 5.2.1. Разработка системы планирования

**Модуль стратегического планирования:**

* Алгоритмы долгосрочного планирования развития карьера
* Модели прогнозирования спроса на продукцию
* Инструменты планирования инвестиций
* Система сценарного анализа

**Модуль тактического планирования:**

* Алгоритмы среднесрочного планирования производства
* Оптимизация использования ресурсов
* Планирование технического обслуживания
* Координация с внешними ограничениями

**Модуль оперативного планирования:**

* Ежедневное планирование работы техники
* Оптимизация сменных заданий
* Динамическое перепланирование
* Учет оперативных изменений

### 5.2.2. Разработка системы управления транспортом

**Диспетчерский модуль:**

* Мониторинг состояния техники
* Автоматическое назначение заданий
* Контроль выполнения планов
* Оперативное управление

**Модуль оптимизации маршрутов:**

* Алгоритмы поиска оптимальных маршрутов
* Динамическая корректировка маршрутов
* Управление транспортными потоками
* Минимизация конфликтов

**Модуль управления очередями:**

* Оптимизация очередей у оборудования
* Прогнозирование времени ожидания
* Балансировка нагрузки
* Предотвращение заторов

### 5.2.3. Разработка системы моделирования

**Движок имитационного моделирования:**

* Ядро системы моделирования
* Библиотека стандартных компонентов
* Механизмы обработки событий
* Система сбора статистики

**Модели производственных процессов:**

* Модели работы горнотранспортной техники
* Модели производственных ограничений
* Модели случайных факторов
* Модели внешней среды

**Система анализа результатов:**

* Статистический анализ результатов моделирования
* Визуализация результатов
* Сравнительный анализ сценариев
* Оценка надежности результатов

---

6. Порядок контроля и приемки Системы
=====================================

6.1. Общие положения
--------------------

* **Цель контроля и приемки:** подтверждение соответствия Системы требованиям настоящего ТЗ, договорным обязательствам и нормативным документам.
* **Основание:** настоящее ТЗ, договор, «Программа и методика испытаний» (ПМИ), «План приемочных работ», регламенты Заказчика.
* **Результат:** оформленные протоколы испытаний, ведомость дефектов, отчет об испытаниях, акт приемки-сдачи работ и (при необходимости) акт ввода в промышленную эксплуатацию.

6.2. Виды контроля и испытаний
------------------------------

* **Предварительный контроль (ПК):** проверка полноты поставки, целостности артефактов, базовой инсталляции, версии ПО/СУБД.
* **Модульные испытания (МИ):** выполняются Исполнителем; целевой порог покрытия автотестами логики критичных модулей — не ниже 80% строк/веток.
* **Интеграционные испытания (ИИ):** проверка взаимодействий между компонентами (планирование, моделирование, БД, API, очереди, кэш, геоданные).
* **Системные испытания (СИ):** проверка нефункциональных требований (производительность, надежность, отказоустойчивость, безопасность, UX).
* **Приемо-сдаточные испытания (ПСИ):** проводятся совместно с Заказчиком по ПМИ на стенде, эквивалентном продуктиву.
* **Опытная эксплуатация (ОЭ):** эксплуатация на реальных данных в ограниченном объеме с измерением показателей и сбором замечаний.
* **Приемочные испытания (ПИ):** итоговая проверка готовности к вводу, подтверждение выполнения критериев приемки.

6.3. Программа и методика испытаний (ПМИ)
-----------------------------------------

ПМИ разрабатывается Исполнителем и согласуется с Заказчиком. Содержит:

* Матрицу трассируемости «требование → сценарий → критерий→ артефакт доказательства».
* Перечень сценариев, тест-кейсов и данных, ожидаемые результаты, критерии прохождения.
* Описание стенда, версий ПО, конфигураций и параметров нагрузки.
* Порядок регистрации дефектов и форм протоколов.

6.4. Требования к испытательному окружению
------------------------------------------

* **Оборудование:** CPU, RAM, Storage и сеть не ниже параметров, предусмотренных разделами 3.3 и 4.3.5.
* **ПО:** согласованные версии ОС, СУБД, брокеров сообщений, кэшей, драйверов.
* **Данные:** обезличенные или разрешенные к использованию выборки, репрезентативные по объему и структуре.
* **Доступы:** учетные записи с разграничением прав, аудит и журналирование операций.

6.5. Порядок проведения испытаний
---------------------------------

1. Подготовка стенда, загрузка тестовых данных, фиксация конфигурации.
2. Запуск сценариев по ПМИ, сбор логов/метрик, фиксация результатов.
3. Регистрация дефектов в трекере (класс, приоритет, шаги воспроизведения, фактический/ожидаемый результат, вложения).
4. Повторное тестирование после исправлений (регресс, при необходимости — нагрузочные повторно).

6.6. Классификация дефектов и SLA
---------------------------------

* **Класс A (Критический):** потеря данных, отказ системы, невозможность выполнения ключевых функций без обходов. SLA исправления: до 5 рабочих дней, блокирующий приемку.
* **Класс B (Высокий):** значимое отклонение функционала или метрик без риска потери данных. SLA: до 10 рабочих дней, допускается условная приемка с графиком исправлений.
* **Класс C (Средний/Низкий):** несущественные дефекты, UI/тексты, редкие сценарии. Исправление по плану релизов.

6.7. Критерии приемки Системы
-----------------------------

* **Функциональные:** выполнение не менее 100% обязательных требований ТЗ и не менее 95% желательных (при наличии).
* **Производительность:**
  + Планирование типового сценария: ≤ 10 минут.
  + Формирование стандартных отчетов: ≤ 30 секунд.
  + Интерактивные операции: ≤ 3 секунд.
* **Надежность/Доступность:** коэффициент готовности в рабочее время ≥ 99%; успешное восстановление из резервной копии.
* **Безопасность:** прохождение проверки ИБ Заказчика, отсутствие критических уязвимостей по результатам сканирования (CVSS ≥ 9.0 — не допускается).
* **Документация:** полный комплект из раздела 8 актуализирован и передан.
* **Обучение:** обучение ключевых пользователей завершено, результаты аттестации ≥ 85%.

6.8. Отчетные документы по результатам испытаний
------------------------------------------------

* Протоколы испытаний с статусами «пройдено/не пройдено/заблокировано» и ссылками на артефакты.
* Ведомость дефектов с актуальным статусом и планом устранения.
* Отчет об испытаниях (резюме, метрики, отклонения, рекомендации).
* Акт приемки-сдачи работ, при необходимости — акт ввода в эксплуатацию.

6.9. Ответственность сторон
--------------------------

* **Исполнитель:** подготовка ПМИ, стендов, проведение СИ, устранение дефектов, предоставление отчетности.
* **Заказчик:** предоставление данных и доступов, участие в ПСИ/ПИ, подтверждение результатов, подписание актов.

6.10. График и сроки
--------------------

* Типовая длительность: СИ — до 10 р.д., ПСИ — до 5 р.д., ОЭ — 10–20 р.д., ПИ — до 5 р.д. Конкретные сроки утверждаются календарным планом проекта.

---

7. Требования к составу и содержанию работ по подготовке объекта автоматизации к вводу Системы в действие
=========================================================================================================

7.1. Общие положения
--------------------

Подготовка включает организационные, технические и технологические мероприятия, обеспечивающие готовность инфраструктуры, процессов и персонала к эксплуатации.

7.2. Инфраструктурные требования
--------------------------------

### 7.2.1. Аппаратно-техническое обеспечение

* Серверная платформа с резервированием (питание, диски, сеть), соответствующая нагрузкам из раздела 4.1.3.
* Рабочие места пользователей: CPU ≥ 4 ядер, RAM ≥ 16 ГБ, два монитора 24" для диспетчеров и аналитиков.
* Системы резервного копирования и восстановления, тест восстановления не реже 1 раза в квартал.

### 7.2.2. Сетевая инфраструктура

* Выделенные VLAN для серверов и АРМ; сегментация трафика; QoS для критических сервисов.
* Безопасные каналы (VPN/TLS), контроль периметра, межсетевые экраны, IDS/IPS по политике Заказчика.
* Доступность адресных пространств внешних интеграций согласно согласованной матрице портов и протоколов.

### 7.2.3. Программная платформа

* Поддерживаемые ОС: современные версии серверных Linux/Windows, согласованные с Заказчиком.
* СУБД промышленного уровня (PostgreSQL/экв.), кэш, брокер сообщений; системные зависимости и драйверы.
* Средства мониторинга и логирования (агенты, коллекторы, дашборды), время хранения логов — согласно ИБ-политике Заказчика.

7.3. Требования к данным
------------------------

### 7.3.1. Источники и форматы

| Источник | Формат | Способ обмена | Периодичность |
| --- | --- | --- | --- |
| Диспетчерская система/телеметрия | JSON/REST, MQTT | API, шины сообщений | Почти реальное время |
| Геоданные (дорожная сеть, объекты) | GeoJSON/Shape | Импорт пакетами | По изменению |
| Плановые задания/сменные отчеты | CSV/XML | Выгрузки/импорт | Ежесменно |
| НСИ по технике и ПР | SQL/CSV | Репликация/импорт | По регламенту |

### 7.3.2. Качество данных

* Полнота ≥ 98% обязательных атрибутов, валидность по схемам/ограничениям БД.
* Актуальность: задержка интеграций ≤ 5 мин (онлайн) и ≤ 24 ч (пакетные).
* Геоточность: координаты ≤ 1 м, топология графа дорог — без разрывов и перекрытий.

### 7.3.3. Миграция и выравнивание

* План миграции с точками контроля, бэкап исходных данных, средства отката.
* Верификация пост-миграции: выборочные сверки, агрегаты, инвентаризация НСИ.

7.4. Организационная подготовка
-------------------------------

* Формирование проектной и эксплуатационной команд, назначение ролей и зон ответственности (RACI).
* Обучение: базовый (8 ч), ролевой (16–24 ч), администрирование (40 ч) с аттестацией ≥ 85%.
* Обновление регламентов, инструкций, планов ТОиР с учетом новой системы.

7.5. Эксплуатационная готовность
--------------------------------

* Настройка систем мониторинга и алертинга, плейбуков для типовых инцидентов.
* Процедуры резервного копирования/восстановления, документирование и регулярные учения.
* План смены обслуживающего персонала (knowledge transfer), актуализация документации.

7.6. Безопасность и доступы
---------------------------

* Настройка аутентификации/авторизации (SSO/LDAP при наличии), разграничение прав по ролям.
* Аудит доступа, политики паролей/сессий, многофакторная аутентификация для администраторов.
* Сканирование уязвимостей (до/после внедрения), шифрование каналов связи и данных.

7.7. Критерии готовности к вводу
--------------------------------

* **Инфраструктура:** развернута, протестирована, документирована, мониторинг настроен.
* **Данные:** мигрированы, валидированы, интеграции работают стабильно.
* **Персонал:** обучен, аттестован, регламенты актуализированы.
* **Безопасность:** требования ИБ выполнены, доступы настроены, уязвимости устранены.

---

8. Требования к документированию
===============================

8.1. Принципы
------------

*   Актуальность и трассируемость, полнота и проверяемость, единые шаблоны, версияция и контроль изменений.
*   Доступность: централизованное хранилище, разграничение прав, резервное копирование.

8.2. Состав документации
-----------------------

### 8.2.1. Эксплуатационная

*   Руководство пользователя, Руководство администратора, Руководство по развертыванию/обновлению.
*   Регламенты эксплуатации, резервного копирования и восстановления, мониторинга и инцидент-менеджмента.

### 8.2.2. Техническая

*   Технический проект/описание архитектуры, модели данных и схемы БД, описание API.
*   Программа и методика испытаний, протоколы и отчет об испытаниях.
*   План обеспечения качества, инструкции по безопасности.

### 8.2.3. Методическая и проектная

*   Сценарии использования, методики моделирования, шаблоны отчетов и аналитики.
*   Календарный план, матрица трассируемости требований, реестр рисков и допущений.

8.3. Оформление и версияция
---------------------------

*   Обозначение документов: код проекта, тип, порядковый номер, версия (SemVer) и дата.
*   Лист регистрации изменений обязателен; хранение утвержденных PDF и исходников (Markdown/Draw.io) в VCS.

8.4. Обновление и согласование
-----------------------------

*   Процедура RFC: инициатор → автор → техническая экспертиза → ИБ → владелец процесса → утверждение.
*   Сроки согласования: незначительные изменения — до 3 р.д.; значительные — до 10 р.д.

8.5. Контроль качества документации
----------------------------------

*   Проверки: полнота, непротиворечивость, корректность ссылок, актуальность скриншотов/схем, соответствие ГОСТ.
*   Периодичность: ревизия не реже 1 раза в квартал и при каждом релизе.

---

9. Источники разработки
======================

9.1. Общие сведения
------------------

*   Настоящее ТЗ, материалы обследования, решения по архитектуре, стандарты кодирования и ИБ, ADR (журнал архитектурных решений).

9.2. Структура кодовой базы (общее)
----------------------------------

*   Ядро моделирования и оптимизации.
*   API/интеграционный слой.
*   Веб-интерфейс и компоненты UI.
*   Схемы и миграции БД, ETL/интеграции, скрипты администрирования.
*   Автотесты (unit/integration/e2e), инфраструктура CI/CD, инфраструктура IaC (при наличии).

9.3. Технологическая платформа
-----------------------------

*   Языки/технологии: Python 3.13 для ядра системы, FastAPI для веб-сервисов, React для пользовательского интерфейса, Three.js для 3D-визуализации карьера.
*   Базы данных: PostgreSQL для транзакционных данных, Redis для кэширования и pub/sub.
*   Оптимизация: Google OR-Tools CP-SAT для оптимизации маршрутов, HiGHS_CMD для MILP задач.
*   Архитектура: Микросервисы (Sim Engine, TruckService, ShovelService, UnloadService, FuelService, PlannerService)
*   Сборка/деплой: конвейеры CI/CD, контейнеризация, артефакты версионируются.
*   Наблюдаемость: централизованные логи, метрики, алертинг, трассировка.

9.4. Ограничения и допущения
---------------------------

*   Поддерживаемые масштабы: парк техники до 500 ед. в онлайне (типовое ограничение); фактические пределы уточняются нагрузочным тестированием.
*   Стабильность характеристик техники в пределах смены; изменчивость дорожных условий учитывается сценарно.

9.5. Перспективы развития
------------------------

*   Краткосрочно: интеграции с телеметрией/ERP, предиктивное ТО, расширение отчетности.
*   Средне- и долгосрочно: адаптивное ИИ‑планирование, цифровой двойник, расширение масштабируемости.

---

10. Приложения
=============

10.1. Формы документов
---------------------

**Акт ввода в эксплуатацию (шаблон):**

*   Объект: ____________________________________
*   Система: Цифровой двойник
*   Дата ввода: __.__.20__
*   Ответственные (Заказчик/Исполнитель): __________________________________
*   Заключение комиссии: __________________________________________________

**Протокол испытаний (шаблон):**

*   Номер/дата: ___________
*   Стенд/версия: ___________
*   Сценарий/кейс: ___________
*   Результат: пройдено / не пройдено / заблокировано
*   Замечания/дефекты: __________________________________________________

10.2. Шаблоны
------------

*   Заявка на доработку/изменение (RFC): цель, обоснование, требования, критерии приемки, оценка, план релиза.
*   Шаблон отчета о моделировании: сценарий, входные данные, настройки, результаты, анализ чувствительности, выводы.

10.3. Чек-листы
--------------

**Готовность к внедрению:**

*   Инфраструктура развернута и задокументирована
*   Интеграции настроены, данные валидированы
*   Резервное копирование и восстановление проверены
*   Обучение и регламенты завершены, доступы выданы

**Приемка работ:**

*   ПМИ выполнена, критических дефектов нет
*   Нефункциональные метрики в норме
*   Полный комплект документации передан
*   Акты подписаны.

10.4. Справочная информация
-------------------------

**Глоссарий:**

*   КИО — коэффициент использования оборудования
*   ППР — планово‑предупредительный ремонт
*   Тонно‑километр — измерение транспортной работы

**Нормативные ссылки:**

*   ГОСТ 19.201‑78 (Техническое задание)
*   ГОСТ 19.301‑79 (Программа и методика испытаний)
*   ГОСТ 34.201‑89 (Виды и комплектность документов)

---

**КОНЕЦ ДОКУМЕНТА**

*Документ составлен в соответствии с ГОСТ 19.201-78*
*Версия документа: 2.0*
*Дата: 18 ноября 2025*